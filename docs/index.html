<html>
<head>
    <title>Kautilya by Chit Bazaar</title>
    <script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>
    <script src="js/main.js"></script>
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>
</head>
<textarea id="cashFlowsInput" style="width: 100%;">-10,-10,100</textarea>
<label>Include other check points<input type="checkbox" id="includeOtherChecksInput" checked="true"/></label>
<button id="plotIRRToNFV">Plot IRR to NFV</button>
<div style="color: red; width: 100%" id="error"></div>
<div style="width:100%;">
    <canvas id="canvas"></canvas>
</div>
<script>
    let config = {
        type: 'line',
        data: {
            datasets: [{
                label: '~IRR vs NFV',
                backgroundColor: window.chartColors.blue,
                borderColor: window.chartColors.blue,
                borderWidth: 1,
                pointRadius: 0,
                fill: false,
                data: []
            }, {
                label: 'Min Max Check Points',
                backgroundColor: window.chartColors.red,
                borderColor: window.chartColors.red,
                type: 'scatter',
                pointRadius: 10,
                pointStyle: 'triangle',
                pointBorderColor: window.chartColors.red,
                data: [
                    {
                        x: 0,
                        y: 0
                    }
                ]
            }, {
                label: 'Other Check Points',
                backgroundColor: window.chartColors.green,
                borderColor: window.chartColors.green,
                type: 'scatter',
                pointRadius: 10,
                pointStyle: 'star',
                pointBorderColor: window.chartColors.green,
                data: [
                    {
                        x: 0,
                        y: 0
                    }
                ]
            }]
        },
        options: {
            responsive: true,
            scales: {
                xAxes: [{
                    type: 'linear',
                    position: 'bottom'
                }]
            }
        }
    };

    window.onload = function () {
        let ctx = document.getElementById('canvas').getContext('2d');
        updateDataConfig();
        window.myLine = new Chart(ctx, config);
    };

    document.getElementById('plotIRRToNFV').addEventListener('click', function () {
        error('')
        updateDataConfig();
        window.myLine.update();
    });

</script>
</body>
</html>